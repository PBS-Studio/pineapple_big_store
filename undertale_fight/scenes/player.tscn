[gd_scene load_steps=8 format=3 uid="uid://bpr87huv8j8f3"]

[ext_resource type="Script" path="res://undertale_fight/scripts/player_move.gd" id="1_xrjx5"]
[ext_resource type="Texture2D" uid="uid://dwwtnvv44gexc" path="res://undertale_fight/assets/tilemap/fight_tilemap.png" id="2_11mhp"]
[ext_resource type="AudioStream" uid="uid://c43nnqlur7v5j" path="res://undertale_fight/assets/sound/snd_hurt1_c.wav" id="3_sdxwy"]

[sub_resource type="AtlasTexture" id="AtlasTexture_h1cn1"]
atlas = ExtResource("2_11mhp")
region = Rect2(1410, 167, 60, 60)

[sub_resource type="Animation" id="Animation_vpisb"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Sprite2D:visible")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [true]
}

[sub_resource type="Animation" id="Animation_xvfdc"]
resource_name = "damage"
length = 0.4
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Sprite2D:visible")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.1, 0.2, 0.3, 0.4),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1),
"update": 1,
"values": [true, false, true, false, true]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_oh6xp"]
_data = {
"RESET": SubResource("Animation_vpisb"),
"damage": SubResource("Animation_xvfdc")
}

[node name="Player" type="CharacterBody2D"]
collision_mask = 2
script = ExtResource("1_xrjx5")
speed = 20000.0

[node name="Sprite2D" type="Sprite2D" parent="."]
position = Vector2(0, -1)
scale = Vector2(0.504167, 0.504167)
texture = SubResource("AtlasTexture_h1cn1")

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="."]
position = Vector2(0, -2)
scale = Vector2(3.5, 3.5)
polygon = PackedVector2Array(-0.857143, 4.57143, 1.14286, 4.57143, 4.28571, 1.14286, 4.28571, -2.85714, 3.14286, -4, 2.28571, -4, 0, -1.71429, -2.28571, -4, -3.14286, -4, -4.28571, -2.85714, -4.28571, 1.14286)

[node name="AnimationPlayer" type="AnimationPlayer" parent="."]
libraries = {
"": SubResource("AnimationLibrary_oh6xp")
}

[node name="Hurt" type="AudioStreamPlayer" parent="."]
stream = ExtResource("3_sdxwy")

[connection signal="visibility_changed" from="." to="." method="_on_visibility_changed"]
